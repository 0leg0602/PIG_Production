<!DOCTYPE html>
<html
    style="background-image: url('https://www.svgrepo.com/show/191136/pig.svg');background-size: 100px;background-color: #1c1c1c;">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>üêñüêñPIG Production üêñüêñ</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- <link rel='stylesheet' type='text/css' media='screen' href='main.css'> -->
    <!-- <script src='main.js'></script> -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: "Roboto Condensed", sans-serif;
            font-optical-sizing: auto;
            /* font-weight: <weight>;
            font-style: normal; */

        }

        button {
            min-height: 50px;
            min-width: 120px;
            font-size: 30px;
        }

        h1 {
            color: white;
        }


        @keyframes example {
            0% {
                /* background-color: red; */
                background-position-x: 0px;
            }

            100% {
                /* background-color: yellow; */
                background-position-x: 100px;
            }
        }

        html {
            /* background-color: red; */
            animation-name: example;
            animation-duration: 6s;
            animation-iteration-count: infinite;
            animation-timing-function: linear
        }

        .page {
            position: absolute;
            top: 98px;
            min-height: -webkit-fill-available;
            left: 0px;
            right: 0px;
            backdrop-filter: blur(0px);
        }

        .card_button {
            width: min-content;
            border: 8px solid grey;
            border-radius: 12px;
            border-color: grey;
            background: grey;
        }

        .card_button:hover {
            width: min-content;
            border: 8px solid lightgrey;
            border-radius: 12px;
            border-color: lightgrey;
            background: lightgrey;
        }

        .card_button:active {
            width: min-content;
            border: 8px solid lightgrey;
            border-radius: 12px;
            border-color: lightgrey;
            background: lightgrey;
            filter: contrast(0) brightness(3);
        }
    </style>

</head>

<body>

    <div style="background: black;
    position: fixed;
    width: -webkit-fill-available;
    left: 0px;
    top: 0px;
    color: white;
    z-index: 1;
    ">

        <table style=" width: -webkit-fill-available; margin-left: 20px; margin-right: 20px;table-layout: fixed;">
            <tr>
                <td>
                    <h1 style="align-items: center;display: flex;"> <img
                            src="https://www.svgrepo.com/show/41907/pig.svg"
                            style="max-width: 30px; display: inline-block; "> Pigs –Ø Us
                    </h1>
                </td>
                <td>
                    <h1 style="text-align: center;"> <img src="https://www.svgrepo.com/show/204756/piggy-bank.svg"
                            style="max-width: 30px; display: inline-block; "> Pig coins:

                        <a id="pig_coins_label"></a>
                    </h1>
                </td>
                <td>
                    <h1 style="text-align: end;">
                        <button id="button1" disabled onclick="switch_page(1)"> About </button>
                        <button id="button2" onclick="switch_page(2)"> Pigs </button>
                        <!-- <button id="button3" onclick="switch_page(3)"> Pig-Clicker </button> -->
                        <button id="button4" onclick="switch_page(4)"> Pig-Roulette </button>
                    </h1>
                </td>
            </tr>

        </table>





    </div>

    <div id="div_about" class="page" style="display: block;">


        <h1 style="
    text-align: center;
    font-size: 50px;
    ">About</h1>



    </div>

    <div id="div_pigs" class="page" style="display: none;">


        <h1 style="
    text-align: center;
    font-size: 50px;
    ">Pigs</h1>

        <hr>

        <h1 style="
    text-align: center;
    font-size: 50px;
    ">Your pigs:</h1>

        <table id="owned_pig_list" style="width: 100%;"></table>

        <hr>

        <h1 style="
    text-align: center;
    font-size: 50px;
    ">Avaliable pigs:</h1>

        <table id="pig_list" style="width: 100%;"></table>

    </div>

    <div id="div_pig-clicker" class="page" style="display: none;">


        <h1 style="
    text-align: center;
    font-size: 50px;
    ">Pig-Clicker</h1>
        <table id="owned_pig_list_for_pig_clicker"
            style="position: absolute;top: 0;overflow-y: scroll;bottom: 0;display: block;"></table>
        <div id="div_clicking_pig"
            style="position: absolute;top: 0px;left: 0px;right: 0px;bottom: 0px;text-align: -webkit-center;align-content: center;z-index: -1;">
        </div>

    </div>

    <div id="div_pig-roulette" class="page" style="display: none;">


        <h1 style="
    text-align: center;
    font-size: 50px;
    ">Pig-Roulette</h1>

        <div
            style=" display: grid; justify-items: center; justify-content: start; width: fit-content;border: 8px solid darkslategrey; border-radius: 12px; background: darkslategrey; ">

            <h1 style="margin: 0;">Bet amount:</h1>
            <input type="number" id="bet_amount" name="quantity" min="1" style="width: -webkit-fill-available;">

            <button disabled id="lock_bet_button" onclick="lock_bet()"> Lock bet </button>


            <hr style=" width: -webkit-fill-available; ">

            <h1 style="margin: 0;">2x multiplier:</h1>
            <table>
                <tbody>
                    <tr>
                        <td>
                            <button id="bet_type_black_button" onclick="set_bet_type('black')"> Black </button>
                        </td>
                        <td>
                            <button id="bet_type_white_button" onclick="set_bet_type('white')"> White </button>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button id="bet_type_odd_button" onclick="set_bet_type('odd')"> Odd </button>
                        </td>
                        <td>
                            <button id="bet_type_even_button" onclick="set_bet_type('even')"> Even </button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <hr style=" width: -webkit-fill-available; ">
            <h1 style="margin: 0;">6x multiplier:</h1>
            <button id="bet_type_zeros_button" onclick="set_bet_type('zeros')"> Zeros </button>
            <hr style=" width: -webkit-fill-available; ">
            <h1 style="margin: 0;">7x multiplier:</h1>
            <button id="bet_type_specific_number_button" onclick="set_bet_type('specific_nubmer')"> Specific number
            </button>
            <input type="number" id="specific_nubmer" name="quantity" min="1" style="width: -webkit-fill-available;">

            <button disabled id="spin_button" onclick="spin()"> SPIN </button>

        </div>
        <canvas id="wheel_canvas" width="500" height="500"
            style="display: block; position: fixed; top: 50%; left: 50%; transform: translate(-0250px, -250px);"></canvas>

        <table id="history_table"
            style="position: absolute;top: 0;overflow-y: auto;bottom: 0;display: block;right: 0px;background: darkslategrey; border: 8px solid darkslategrey; border-radius: 12px;">

            <tbody>
                <tr>
                    <td>
                        <h1>History: </h1>
                    </td>
                </tr>
            </tbody>


        </table>

    </div>



</body>

<script>

    if (!localStorage.getItem("pigs") || !localStorage.getItem("pig_coins")) {
        localStorage.setItem("pigs", "[]");
        localStorage.setItem("pig_coins", "0");
    }
    document.getElementById("pig_coins_label").textContent = localStorage.getItem("pig_coins");


    // const test_pig1 = { name: "test1", description: "test pig for development", code: "0319076161392", rarity: "ultra rare" }
    // const test_pig2 = { name: "test2", description: "test pig for development", code: "12345", rarity: "very rare" }
    // const test_pig3 = { name: "test3", description: "test pig for development", code: "12345", rarity: "rare" }
    // const test_pig4 = { name: "test4", description: "test pig for development", code: "12345", rarity: "uncommon" }
    // const test_pig5 = { name: "test5", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig6 = { name: "test6", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig7 = { name: "test7", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig8 = { name: "test8", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig9 = { name: "test9", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig10 = { name: "test10", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig11 = { name: "test11", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig12 = { name: "test12", description: "test pig for development", code: "12345", rarity: "common" }
    // const test_pig13 = { name: "test13", description: "test pig for development", code: "12345", rarity: "common" }

    // const pigs = [test_pig1, test_pig2, test_pig3, test_pig4, test_pig5, test_pig6, test_pig7, test_pig8, test_pig9, test_pig10, test_pig11, test_pig12, test_pig13]



    const pig1 = { name: "Porky", description: "Fist pig ever made!", code: "94321", rarity: "ultra rare" }
    const pig2 = { name: "MsPiggy", description: "Perry's best friend.", code: "10342", rarity: "common" }
    const pig3 = { name: "Perry", description: "He is lonely when he has no friends around.", code: "72683", rarity: "common" }
    const pig4 = { name: "Bacon", description: "He hates people because they tried to turn him into bacon.", code: "39810", rarity: "uncommon" }
    const pig5 = { name: "Sniffy", description: "He loves to sniff, he has a very big nose and a very small tail.", code: "103291", rarity: "rare" }
    const pig6 = { name: "Pinky", description: "She loves flowers, her favorite color is pink.", code: "84932", rarity: "very rare" }
    const pig7 = { name: "Droopy", description: "He is always tired.", code: "59000", rarity: "common" }
    const pig8 = { name: "Party", description: "He loves to have fun.", code: "42903", rarity: "uncommon" }

    const pigs = [pig1, pig2, pig3, pig4, pig5, pig6, pig7, pig8]

    var owned_pig_table2 = document.getElementById("owned_pig_list");

    var bet_amount = 0;
    var bet_type = "none";
    var is_bet_locked = false;



    create_pig_table(document.getElementById("pig_list"), false, false)
    create_pig_table(document.getElementById("owned_pig_list"), true, false)
    create_pig_table(document.getElementById("owned_pig_list_for_pig_clicker"), true, true)




    function create_pig_table(pig_table, is_owned_pig_list, for_pig_clicker) {



        pig_table.replaceChildren()

        element_number = 0;

        var pigs_list;

        if (is_owned_pig_list) {
            pigs_list = JSON.parse(localStorage.getItem("pigs"));

            if (pigs_list.length == 0) {



                if (for_pig_clicker) {
                    return;
                }


                var tr1 = document.createElement("tr");
                var td1 = document.createElement("td");

                td1.style = "text-align: center;";

                var label = document.createElement("h1");
                label.textContent = "You currently have no pigs. Claim a pig to add it to your collection.";


                pig_table.appendChild(tr1);
                tr1.appendChild(td1);
                td1.appendChild(label);

            }


        } else {
            pigs_list = pigs;
        }

        for (const i in pigs_list) {

            var create_element = true;

            if (!is_owned_pig_list) {
                for (const i2 in JSON.parse(localStorage.getItem("pigs"))) {
                    if (pigs_list[i].name == JSON.parse(localStorage.getItem("pigs"))[i2].name) {
                        create_element = false;
                    }
                }
            }


            if (create_element) {

                var table_row;
                var number_of_rows;

                if (for_pig_clicker) {
                    number_of_rows = 1;
                } else {
                    number_of_rows = 3;
                }

                if (!document.getElementById(pig_table.id + "_table_row" + Math.floor(element_number / number_of_rows))) {
                    table_row = document.createElement("tr");
                    table_row.id = pig_table.id + "_table_row" + Math.floor(element_number / number_of_rows);
                } else {
                    table_row = document.getElementById(pig_table.id + "_table_row" + Math.floor(element_number / number_of_rows));
                }

                element_number++;

                var table_date = document.createElement("td");

                table_date.style = "text-align: -webkit-center; padding-bottom :11px"
                var card_div = document.createElement("div");
                if (for_pig_clicker) {
                    card_div.addEventListener('click', function () {
                        set_pig_clicker_pig(pigs_list[i]);
                    });
                    card_div.className = "card_button";
                } else {

                    var color1;
                    var color2;
                    var out_line_color;
                    switch (pigs_list[i].rarity) {
                        case "common":
                            color1 = "grey"
                            color2 = "grey"
                            out_line_color = "black"

                            break;
                        case "uncommon":
                            color1 = "darkkhaki"
                            color2 = "#b7b167"
                            out_line_color = "black"

                            break;
                        case "rare":
                            color1 = "green"
                            color2 = "#008b00"
                            out_line_color = "black"

                            break;
                        case "very rare":
                            color1 = "darkmagenta"
                            color2 = "#ad00ad"
                            out_line_color = "white"

                            break;
                        case "ultra rare":
                            color1 = "maroon"
                            color2 = "#a90020"
                            out_line_color = "white"

                            break;
                        default:
                            color1 = "grey"
                            color2 = "grey"
                            break;
                    }

                    card_div.style = "width: min-content; border: 8px solid " + color1 + "; border-radius: 12px; background: repeating-linear-gradient(45deg, " + color1 + ", " + color2 + " 100px);"
                }

                pig_table.appendChild(table_row);
                table_row.appendChild(table_date);

                var img = document.createElement("img");
                img.src = "pigs_pictures/" + pigs_list[i].name + ".jpg";
                img.setAttribute('draggable', false);



                var pig_name = document.createElement("h1");
                var pig_rarity = document.createElement("h1");
                var pig_description = document.createElement("p");

                var claim_a_pig_button

                if (!is_owned_pig_list) {
                    claim_a_pig_button = document.createElement("button");
                    claim_a_pig_button.textContent = "CLAIM THE PIG";
                    claim_a_pig_button.addEventListener('click', function () {
                        claim_a_pig(pigs_list[i]);
                    });
                }

                pig_name.textContent = pigs_list[i].name;
                pig_rarity.textContent = pigs_list[i].rarity;
                pig_rarity.style.color = color1;
                pig_rarity.style.textShadow = "-1px -1px 0 " + out_line_color + ", 1px -1px 0 " + out_line_color + ", -1px 1px 0 " + out_line_color + ", 1px 1px 0 " + out_line_color + ""
                pig_description.textContent = pigs_list[i].description;

                table_date.appendChild(card_div);
                card_div.appendChild(img);
                card_div.appendChild(pig_name);
                card_div.appendChild(pig_rarity);
                card_div.appendChild(pig_description);
                if (!is_owned_pig_list) {
                    card_div.appendChild(claim_a_pig_button);
                }

            }


        }
    }

    function switch_page(page) {
        switch (page) {
            case 1:
                document.getElementById("div_about").style.display = "block";
                document.getElementById("div_pigs").style.display = "none";
                document.getElementById("div_pig-clicker").style.display = "none";
                document.getElementById("div_pig-roulette").style.display = "none";


                document.getElementById("button1").disabled = true;
                document.getElementById("button2").disabled = false;
                document.getElementById("button3").disabled = false;
                document.getElementById("button4").disabled = false;

                document.querySelector("html").style.overflow = "auto"



                break;
            case 2:
                document.getElementById("div_about").style.display = "none";
                document.getElementById("div_pigs").style.display = "block";
                document.getElementById("div_pig-clicker").style.display = "none";
                document.getElementById("div_pig-roulette").style.display = "none";


                document.getElementById("button1").disabled = false;
                document.getElementById("button2").disabled = true;
                document.getElementById("button3").disabled = false;
                document.getElementById("button4").disabled = false;

                document.querySelector("html").style.overflow = "auto"

                break;
            case 3:

                document.getElementById("div_about").style.display = "none";
                document.getElementById("div_pigs").style.display = "none";
                document.getElementById("div_pig-clicker").style.display = "block";
                document.getElementById("div_pig-roulette").style.display = "none";


                document.getElementById("button1").disabled = false;
                document.getElementById("button2").disabled = false;
                document.getElementById("button3").disabled = true;
                document.getElementById("button4").disabled = false;

                document.querySelector("html").style.overflow = "hidden"

                break;
            case 4:

                document.getElementById("div_about").style.display = "none";
                document.getElementById("div_pigs").style.display = "none";
                document.getElementById("div_pig-clicker").style.display = "none";
                document.getElementById("div_pig-roulette").style.display = "block";

                document.getElementById("button1").disabled = false;
                document.getElementById("button2").disabled = false;
                document.getElementById("button3").disabled = false;
                document.getElementById("button4").disabled = true;

                document.querySelector("html").style.overflow = "auto"

                break;


            default:
                break;
        }
    }

    function claim_a_pig(pig_to_claim) {
        let pig_code = prompt("Enter the pig code:");
        if (pig_code == pig_to_claim.code) {

            var parsedLocalPigs = JSON.parse(localStorage.getItem("pigs"));
            var parsed_pig_coins = JSON.parse(localStorage.getItem("pig_coins"));
            parsedLocalPigs[parsedLocalPigs.length] = pig_to_claim;
            localStorage.setItem("pigs", JSON.stringify(parsedLocalPigs));

            var amount_of_coins = 0;
            switch (pig_to_claim.rarity) {
                case "common":
                    var amount_of_coins = 100;
                    break;
                case "uncommon":
                    var amount_of_coins = 200;
                    break;
                case "rare":
                    var amount_of_coins = 300;
                    break;
                case "very rare":
                    var amount_of_coins = 400;
                    break;
                case "ultra rare":
                    var amount_of_coins = 500;
                    break;
                default:
                    break;
            }

            localStorage.setItem("pig_coins", JSON.stringify(parsed_pig_coins + amount_of_coins));
            console.log(localStorage.getItem("pig_coins"))
            document.getElementById("pig_coins_label").textContent = localStorage.getItem("pig_coins");

            create_pig_table(document.getElementById("pig_list"), false)
            create_pig_table(document.getElementById("owned_pig_list"), true)
            create_pig_table(document.getElementById("owned_pig_list_for_pig_clicker"), true, true)

            // localStorage.pigs[localStorage.pigs.lenght] = JSON.stringify(pig_to_claim);
        } else {
            alert("Wrond code");
        }
    }

    function set_pig_clicker_pig(pig_to_set) {
        div_clicking_pig = document.getElementById("div_clicking_pig");

        div_clicking_pig.replaceChildren()

        var pig_name = document.createElement("h1");
        pig_name.textContent = pig_to_set.name;


        var div_pig_holder = document.createElement("div");
        div_pig_holder.style = "width: 400px;height: 400px;border: 8px solid grey;border-radius: 12px;background: grey;"

        var pig_img = document.createElement("img");

        pig_img.src = "pigs_pictures/" + pig_to_set.name + ".jpg";
        pig_img.setAttribute('draggable', false);

        div_clicking_pig.appendChild(pig_name);
        div_clicking_pig.appendChild(div_pig_holder);
        div_pig_holder.appendChild(pig_img);


    }

    function lock_bet() {
        if (!is_bet_locked) {
            if (document.getElementById("bet_amount").value <= JSON.parse(localStorage.getItem("pig_coins"))) {
                if (document.getElementById("bet_amount").value > 0) {
                    bet_amount = document.getElementById("bet_amount").value;
                    is_bet_locked = true;
                    document.getElementById("lock_bet_button").textContent = "Remove bet";

                    document.getElementById("bet_type_black_button").disabled = true;
                    document.getElementById("bet_type_white_button").disabled = true;
                    document.getElementById("bet_type_odd_button").disabled = true;
                    document.getElementById("bet_type_even_button").disabled = true;
                    document.getElementById("bet_type_zeros_button").disabled = true;
                    document.getElementById("bet_type_specific_number_button").disabled = true;
                    document.getElementById("bet_amount").disabled = true;
                    document.getElementById("specific_nubmer").disabled = true;
                    document.getElementById("spin_button").disabled = false;
                } else {
                    alert("You cannot bet less than 1 coin.");
                }

            } else {
                alert("You don't have that many pig coins to bet.");
            }
        } else {
            bet_amount = 0;;
            is_bet_locked = false;
            document.getElementById("lock_bet_button").textContent = "Lock bet";

            document.getElementById("bet_type_black_button").disabled = false;
            document.getElementById("bet_type_white_button").disabled = false;
            document.getElementById("bet_type_odd_button").disabled = false;
            document.getElementById("bet_type_even_button").disabled = false;
            document.getElementById("bet_type_zeros_button").disabled = false;
            document.getElementById("bet_type_specific_number_button").disabled = false;
            document.getElementById("bet_amount").disabled = false;
            document.getElementById("specific_nubmer").disabled = false;

            if (bet_type == "black") {
                document.getElementById("bet_type_black_button").disabled = true;

            } else if (bet_type == "white") {
                document.getElementById("bet_type_white_button").disabled = true;


            } else if (bet_type == "odd") {
                document.getElementById("bet_type_odd_button").disabled = true;


            } else if (bet_type == "even") {
                document.getElementById("bet_type_even_button").disabled = true;


            } else if (bet_type == "zeros") {
                document.getElementById("bet_type_zeros_button").disabled = true;


            } else if (bet_type == "specific_nubmer") {
                document.getElementById("bet_type_specific_nubmer_button").disabled = true;


            }


            document.getElementById("spin_button").disabled = true;
        }
    }

    function set_bet_type(type) {
        function clear_buttons() {
            document.getElementById("bet_type_black_button").disabled = false;
            document.getElementById("bet_type_white_button").disabled = false;
            document.getElementById("bet_type_odd_button").disabled = false;
            document.getElementById("bet_type_even_button").disabled = false;
            document.getElementById("bet_type_zeros_button").disabled = false;
            document.getElementById("bet_type_specific_number_button").disabled = false;
        }


        if (type == "black") {
            clear_buttons()
            document.getElementById("bet_type_black_button").disabled = true;
            bet_type = type;
            lock_bet_button.disabled = false;


        } else if (type == "white") {
            clear_buttons()
            document.getElementById("bet_type_white_button").disabled = true;
            bet_type = type;
            lock_bet_button.disabled = false;


        } else if (type == "odd") {
            clear_buttons()
            document.getElementById("bet_type_odd_button").disabled = true;
            bet_type = type;
            lock_bet_button.disabled = false;


        } else if (type == "even") {
            clear_buttons()
            document.getElementById("bet_type_even_button").disabled = true;
            bet_type = type;
            lock_bet_button.disabled = false;


        } else if (type == "zeros") {
            clear_buttons()
            document.getElementById("bet_type_zeros_button").disabled = true;
            bet_type = type;
            lock_bet_button.disabled = false;


        } else if (type == "specific_nubmer") {
            if (document.getElementById("specific_nubmer").value != "") {
                if (document.getElementById("specific_nubmer").value > 0 && document.getElementById("specific_nubmer").value < 37) {
                    clear_buttons()
                    document.getElementById("bet_type_specific_number_button").disabled = true;
                    bet_type = type + " " + document.getElementById("specific_nubmer").value;
                    lock_bet_button.disabled = false;

                } else {
                    alert("Invalid number")
                }
            } else {
                alert("Enter a number")
            }

        }
        console.log(bet_type)
    }




    // Pig-Roulette



    var options = ["0", "32", "15", "19", "4", "21", "2", "25", "17", "34", "6", "27", "13", "36", "11", "30", "8", "23", "10", "0", "5", "24", "16", "33", "1", "20", "14", "31", "9", "22", "18", "29", "7", "28", "12", "35", "3", "26"];

    var arc = Math.PI / (options.length / 2);
    var spinTimeout = null;

    var startAngle = Math.PI / 2 - arc / 2;

    var spinArcStart = 10;
    var spinTime = 0;
    var spinTimeTotal = 0;

    var ctx;


    function byte2Hex(n) {
        var nybHexString = "0123456789ABCDEF";
        return String(nybHexString.substr((n >> 4) & 0x0F, 1)) + nybHexString.substr(n & 0x0F, 1);
    }

    function RGB2Color(r, g, b) {
        return '#' + byte2Hex(r) + byte2Hex(g) + byte2Hex(b);
    }

    function getColor(item, maxitem) {
        if (options[item] == 0) {
            if (item == 0) {
                red = 0;
                green = 100;
                blue = 0;
            }
            if ((item - 1) % 2 == 0) {
                red = 144;
                green = 238;
                blue = 144;
            }

        } else if (item % 2 == 0) {
            red = 0;
            green = 0;
            blue = 0;
        } else if (item % 2 == 1) {
            red = 255;
            green = 255;
            blue = 255;
        }


        return RGB2Color(red, green, blue);
    }

    function drawRouletteWheel() {
        var wheel_canvas = document.getElementById("wheel_canvas");
        if (wheel_canvas.getContext) {
            var outsideRadius = 200;
            var textRadius = 160;
            var insideRadius = 125;

            ctx = wheel_canvas.getContext("2d");
            ctx.clearRect(0, 0, 500, 500);

            ctx.strokeStyle = "black";
            ctx.lineWidth = 2;

            ctx.font = 'bold 16px Helvetica, Arial';

            for (var i = 0; i < options.length; i++) {
                var angle = startAngle + i * arc;
                ctx.fillStyle = getColor(i, options.length);

                ctx.beginPath();
                ctx.arc(250, 250, outsideRadius, angle, angle + arc, false);
                ctx.arc(250, 250, insideRadius, angle + arc, angle, true);
                ctx.stroke();
                ctx.fill();

                ctx.save();
                ctx.shadowOffsetX = -1;
                ctx.shadowOffsetY = -1;
                ctx.shadowBlur = 0;
                // ctx.shadowColor = "rgb(220,220,220)";
                if (i % 2 == 0) {
                    ctx.fillStyle = "white";
                } else {
                    ctx.fillStyle = "black";
                }
                ctx.translate(250 + Math.cos(angle + arc / 2) * textRadius,
                    250 + Math.sin(angle + arc / 2) * textRadius);
                ctx.rotate(angle + arc / 2 + Math.PI / 2);
                var text = options[i];
                ctx.fillText(text, -ctx.measureText(text).width / 2, 0);
                ctx.restore();
            }

            //Arrow
            ctx.fillStyle = "red";
            ctx.beginPath();
            ctx.moveTo(250 - 4, 250 - (outsideRadius + 5));
            ctx.lineTo(250 + 4, 250 - (outsideRadius + 5));
            ctx.lineTo(250 + 4, 250 - (outsideRadius - 5));
            ctx.lineTo(250 + 9, 250 - (outsideRadius - 5));
            ctx.lineTo(250 + 0, 250 - (outsideRadius - 13));
            ctx.lineTo(250 - 9, 250 - (outsideRadius - 5));
            ctx.lineTo(250 - 4, 250 - (outsideRadius - 5));
            ctx.lineTo(250 - 4, 250 - (outsideRadius + 5));
            ctx.fill();
        }
    }

    function spin() {
        document.getElementById("spin_button").disabled = true;
        document.getElementById("lock_bet_button").disabled = true;
        localStorage.setItem("pig_coins", JSON.parse(localStorage.getItem("pig_coins")) - bet_amount);
        document.getElementById("pig_coins_label").textContent = localStorage.getItem("pig_coins");


        spinAngleStart = Math.random() * 10 + 10;
        spinTime = 0;
        spinTimeTotal = Math.random() * 3 + 4 * 5000;
        rotateWheel();
    }

    function rotateWheel() {
        spinTime += 30;
        if (spinTime >= spinTimeTotal) {
            stopRotateWheel();
            return;
        }
        var spinAngle = spinAngleStart - easeOut(spinTime, 0, spinAngleStart, spinTimeTotal);
        startAngle += (spinAngle * Math.PI / 180);
        drawRouletteWheel();
        spinTimeout = setTimeout('rotateWheel()', 30);
    }

    function stopRotateWheel() {
        clearTimeout(spinTimeout);
        var degrees = startAngle * 180 / Math.PI + 90;
        var arcd = arc * 180 / Math.PI;
        var index = Math.floor((360 - degrees % 360) / arcd);
        ctx.save();
        ctx.font = 'bold 30px Helvetica, Arial';
        var result = options[index]

        ctx.fillStyle = "red";

        console.log(result)

        var history_table_row = document.createElement("tr");
        var history_table_date = document.createElement("td");
        var history_lable = document.createElement("h1");

        function victory(multiplier) {
            localStorage.setItem("pig_coins", JSON.parse(localStorage.getItem("pig_coins")) + bet_amount * multiplier);
            document.getElementById("pig_coins_label").textContent = localStorage.getItem("pig_coins");
            ctx.fillStyle = "green";



            history_lable.textContent = "+ " + (bet_amount * multiplier);
            history_lable.style.color = "green";




        }

        if (bet_type == "white" && index % 2 == 1) {
            if (result != 0) {
                victory(2)
            } else {
                history_lable.textContent = "- " + (bet_amount);
                history_lable.style.color = "red";
            }
        } else if (bet_type == "black" && index % 2 == 0) {

            if (result != 0) {
                victory(2)
            } else {
                history_lable.textContent = "- " + (bet_amount);
                history_lable.style.color = "red";
            }

        } else if (bet_type == "odd" && result % 2 == 1) {

            if (result != 0) {
                victory(2)
            } else {
                history_lable.textContent = "- " + (bet_amount);
                history_lable.style.color = "red";
            }

        } else if (bet_type == "even" && result % 2 == 0) {

            if (result != 0) {
                victory(2)
            } else {
                history_lable.textContent = "- " + (bet_amount);
                history_lable.style.color = "red";
            }

        } else if (bet_type == "zeros" && result == 0) {

            victory(6)

        } else if (bet_type.startsWith("specific_nubmer ")) {
            if (bet_type.split(" ")[1] == result) {
                victory(7)
            }


        } else {
            history_lable.textContent = "- " + (bet_amount);
            history_lable.style.color = "red";
        }

        // document.getElementById("history_table").appendChild(history_table_row)
        document.getElementById("history_table").insertBefore(history_table_row, document.getElementById("history_table").children[1])
        history_table_row.appendChild(history_table_date)
        history_table_date.appendChild(history_lable)



        ctx.fillText(result, 250 - ctx.measureText(result).width / 2, 250 + 10);
        ctx.restore();
        
        document.getElementById("spin_button").disabled = false;
        document.getElementById("lock_bet_button").disabled = false;
        
        lock_bet()



    }

    function easeOut(t, b, c, d) {
        var ts = (t /= d) * t;
        var tc = ts * t;
        return b + c * (tc + -3 * ts + 3 * t);
    }

    drawRouletteWheel();


</script>

</html>